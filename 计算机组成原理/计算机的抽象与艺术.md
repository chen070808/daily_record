# 计算机的抽象与艺术

## 1.1 引言

这一章讲的是对计算机组成的综述，电子计算机自20世纪40年代后期诞生以来，其创造性的竞争带来了史无前例的进步。即农业革命。工业革命后，计算机促进人类文明的第三次革命——信息革命。信息革命使得人类智力的广度和深度成倍增长，既影响了人类的生活，也改变了人类寻求新知识的方式。现在有一种科学探索的新方式，即计算科学家与理论和实验科学家联手，共同探索天文、生物、化学、物理以及其他学科的前沿问题。

### 1.1.1 计算机应用的分类和特点

一般而言计算机按其应用可分为以下三类

**个人计算机**可能是最为人所知的应用方式。为用于个人使用的计算机，侧重于为单个用户提供良好 的性能，保证低廉的价格。

**服务器**过去被称为大型计算机，通常通过网络访问。其定义为能同时为多个用户使用、运行大型程序的计算机，一般通过网络访问。其价格浮动范围也很大。低端服务器可能比桌面的稍贵，高端服务器其极致为超级计算机。

**嵌入式计算机**是计算机中数量最多的一类，其应用范围广泛，其为嵌入到其他设备中的计算机，运行预先定义的一个应用或者一组软件。如汽车中的微处理器、电视中 的计算机，以及用来控制计飞机和货船的处理器忘了。嵌入式应用通常只有单一的应用需求，因而可以保证达到功能最低要求的前提下严格控制成本功耗，降低成本和功耗才是最重要的设计需求。

### 1.1.2 后PC时代

目前代替PC的是**个人移动设备**，一种连接到因特网上的小型无线设备，由电池供电，通过下载app安装软件，典型的例子包括智能手机和平板电脑。

**云计算**，指通过因特网提供服务的大规模服务器集群，一些运营商可以动态的出租不同数量的服务器共租借者使用。其能够替代传统的服务器，依赖于被称为仓储式计算机的巨型数据中心。

通过云计算实现的**软件即服务**也革命性的影响了软件工业的发展。其通过因特网提供服软件和数据作为服务，通过诸如运行在本地客户端的浏览器等小程使用服务序，不需要在本地设备上安装和运行所有二进制代码。

## 1.2计算机体系结构中的8个伟大思想

下面介绍的是计算机架构师过去60年的计算机设计中提出的8个伟大思想，这些思想影响深远，时至今日，仍旧会在新处理器的设计中被采用。

### 1.2.1 面向摩尔定律

计算机的设计者面临的一个永恒的问题就是**摩尔定律**（英语：Moore's law）由[英特尔](https://zh.wikipedia.org/wiki/英特尔)（Intel）创始人之一[戈登·摩尔](https://zh.wikipedia.org/wiki/戈登·摩尔)提出的。其内容为：[集成电路](https://zh.wikipedia.org/wiki/集成电路)上可容纳的[晶体管](https://zh.wikipedia.org/wiki/晶体管)数目，约每隔两年便会增加一倍；经常被引用的“18个月”，是由英特尔[首席执行官](https://zh.wikipedia.org/wiki/首席执行官)[大卫·豪斯](https://zh.wikipedia.org/w/index.php?title=大衛·豪斯&action=edit&redlink=1)（David House）提出：预计18个月会将芯片的性能提高一倍（即更多的晶体管使其更快），是一种以[倍数增长](https://zh.wikipedia.org/wiki/倍數增長)的观测。这个问题很经典也很永恒，经典在这个定律对于非计算机专业的爱好者人可能也有所耳闻，进来也经常会有摩尔定律的中间，摩尔定律还能持续多久这样的标题出现，永恒在计算机的硬件发展速度应该是怎样的这个问题会一直伴随着计算机的发展。

### 1.2.2 使用抽象简化设计

计算机架构师和程序员都需要开发能够提高效率的技术，否则设计周期会随着资源规模而延迟。提高软硬件开发效率的主要技术之一是使用**抽象**来表征不同级别的设计。从将底层的细节隐藏起来，呈现给高层的只是一个简化的模型。实际上我认为抽象是计算机里一个很重要的思想，在生活中我们也常有使用。

### 1.2.3 加速大概率事件

**加速大概率事件**远比优化小概率事件更能提高整体的性能。加速大概率事件也需要设计整知道哪些事件时经常发生的，这就需要经过仔细的实验与测量。

### 1.2.4 通过并行提高性能

从计算机诞生开始，计算机架构师就给出了通过**并行**执行操作来提高性能的设计方案。

### 1.2.5 通过流水线提高性能

在计算机系统中有一种并行技术非常普遍，这种技术有一种特殊的名字叫做：**流水线**。例如，在没有消防车的时代，人民排成队列将水桶传递，而不是很多人往返着跑步送水。

### 1.2.6 通过预测提高性能

有句谚语为“求人准许不如求人原谅”。其指出如果预测错误后恢复的代价不大，并且预测的准确率相对较高，那么通过猜测的方式提前开始工作，要比等到确定知道能执行时才启动要效率高一些。也体现了加速大概率事件的思想。

### 1.2.7 存储器层次结构

实际上人们总是希望存储器速度更快、容量更大、价格更便宜。但这样是难的平衡的，实际上存储器速度越快价格越高、容量越大价格越高。计算机架构师就通过**存储层次结构**来换届相互矛盾的需求。

![image-20200729152323698](img\计算机的抽象与艺术\image-20200729152323698.png)

### 1.2.8 通过冗余提高可靠性

计算机的工作不仅需要快还需要稳定可靠。任何一个物理器件都有可能失效，一次通过增加冗余器件的方式提高系统的**可靠性**。正如汽车都被要求携带的备胎，当汽车的轮胎出来故障就可以换上备胎，就是通过冗余提高了可靠性。

## 1.3 程序表象之下

一个典型的应用程序可能会包含数百万行代码，他们通过划分层次并通过实现库、类、方法等方式不断抽象而写出整体代码。而这些高级语言语句也通过许多不同层次的软件操作而逐步翻译成计算机指令。

![image-20200729153636798](img\计算机的抽象与艺术\image-20200729153636798.png)

而计算机系统则主要针对于传统机器M1和微程序机器M0

## 1.4 硬件包装之下

组成计算机的五个经典部件包括输入设备、输出设备、存储器、运算器（也称数据通路）、控制器，其中后两个部件通常合成为处理器。

### 1.4.1 冯·诺依曼计算机的特点

1945年，冯·诺依曼在指定EDVAC的计划 中提出了存储程序的概念，即将程序和数据一起存放在存储器中，以后凡是以此概念为基础的各类计算机，都称为冯·诺依曼机。其特点为：

1. 计算机由运算器、存储器、控制器和输入设备、输出设备5大部件组成

2. 指令和数据以同等地位存于存储器内，并可按地址寻访。

3. 指令和数据均用二进制代码表示。

4. 指令由操作码和地址码组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置。

5. 指令在存储器内按顺序存放。通常指令是顺序执行的，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序。

6. 机器以运算器为中心，输入输出设备与存储器间的数据传送通过运算器完成。

![image-20200729155308237](img\计算机的抽象与艺术\image-20200729155308237.png)

## 1.5  性能

对计算机的性能进行评价是一个富有挑战的操作。

计算机硬件的主要技术指标包括：机器字长、存储容量和运算速度。

**机器字长**：CPU 一次能处理数据的位数 与 CPU 中的 寄存器位数 有关

**存储容量**：存放二进制信息的总位数

![image-20200729170904348](img\计算机的抽象与艺术\image-20200729170904348.png)

![image-20200729170845402](img\计算机的抽象与艺术\image-20200729170845402.png)

## 1.6 电子计算机的兴起

 [电子计算机的兴起.pdf](doc\电子计算机的兴起.pdf) 

## 1.7 计算机组成与计算机体系结构的区别

**计算机体系结构**是指那些能够被程序员所见到的计算机系统的属性，即概念性的结构和功能特性，包括指令集、数据类型、存储器寻址技术、I/O激励等等，大都属于抽象的属性。

**计算机组成**是指如何实现计算机体系结构所体现的属性，他包含很多对程序员来说是透明的（即程序员不知道的）硬件细节。例如，指令系统体现了机器的属性，这是属于计算机结构的问题，但指令的实现，即如何取指令，分析指令、取操作数、如何运算、如何送结果等等，这都是计算机组成问题。